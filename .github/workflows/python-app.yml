name: send_notice_cron

on: [push]
#   schedule:
#   - cron: "0 0 * * *"

jobs:
  run:
    runs-on: ubuntu-latest

    steps:
        - uses: actions/checkout@v3
        
        - name: Install dependencies
          run: |
            python -m pip install --upgrade pip
            pip install requests beautifulsoup4
            
        - name: Run python script
          env:
            SLACK_API: ${{ secrets.SLACK_API }}
          run: |
            python main.py
            
        - name: Commit files
          run: |
            git config --global user.name 'bong-u'
            git config --global user.email 'bongudev@gmail.com'
            git remote set-url origin https://x-access-token:${{ secrets.GIT_TOKEN }}@github.com/${{ github.repository }}
            git commit -am "RECORD FILE UPDATED"
            git push
